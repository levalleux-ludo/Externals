define("DetailsPriorityFitter",[nut,"StyleUtils","EventUtils"],function(c,m,w){var t="title buyingPrice shippingDisclaimer ppuPrice listPrice byLine prime author callToAction-wrapper customerReviews format brand availabilityInfo".split(" "),u="title buyingPrice shippingDisclaimer ppuPrice listPrice byLine prime author customerReviews callToAction-wrapper format brand availabilityInfo".split(" "),v,n,l=function(f){return v?c("#items")[0].getBoundingClientRect().bottom<=n:IS_RECTANGLE?c(".productDetails",
f)[0].getBoundingClientRect().bottom<=f.getBoundingClientRect().bottom:c(".productDetails",f)[0].getBoundingClientRect().bottom<=n},k=function(f,p){v=!!c(".SKYSCRAPER")[0];IS_RECTANGLE=!!c(".RECTANGLE")[0];n=c("#container")[0].getBoundingClientRect().bottom;p(c(".truncate"));for(var q={},r={},b=0;b<f.length;++b){var g=f[b];q[b]={};r[b]=[];for(var d=m.existsClass("noPrice",g.className)?u:t,h=0;h<d.length;++h){var a=d[h],e=c("."+a,g)[0];e&&(q[b][a]=m.getStyle(e,"display"),e.style.display="none")}}g=
0;do{h=!1;for(b=0;b<f.length;++b)if(a=f[b],d=m.existsClass("noPrice",a.className)?u:t,!(g>=d.length)&&(h=!0,d=d[g],e=c("."+d,a)[0]))if(e.style.display=q[b][d],"none"==e.style.display)a.className+=" "+d+"Hidden";else{if(!l(a)&&(p(c(".truncate",e)),!l(a))){for(var k=r[b],s=k.length-1;0<=s&&(p(c(".truncate",k[s])),!l(a));--s);if(!l(a)){e.style.display="none";a.className+=" "+d+"Hidden";continue}}a.className+=" "+d+"Shown";r[b].push(e)}g++}while(h);w.trigger("dra-details-prioritized",!0)};k.autoTruncates=
!0;return k});